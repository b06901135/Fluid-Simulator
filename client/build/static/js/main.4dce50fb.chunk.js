(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(63)},63:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(28),o=a.n(r),c=a(2),s=a(4),i=a(7),m=a(5),u=a(8),d=a(12),p=a(13),f=a(6),h=a.n(f);function b(){return l.a.createElement("div",{className:"header clearfix"},l.a.createElement("h3",null,l.a.createElement(d.b,{to:"/",style:{textDecoration:"none",color:"#777"}},"Fluid simulator")))}function E(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("p",null,"\xa9 2018 Fluid Simulator, Inc."))}var g=a(14),v={},y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.submit=function(){var e={};for(var t in a.state)""===a.state[t]?e[t]=v[t]:e[t]=parseInt(a.state[t]);h.a.post("api/model",{data:e}).then(function(e){return a.props.fetmodels()})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.model.forEach(function(t){e.setState(Object(g.a)({},t.name,"")),v[t.name]=t.val})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-md-5 col-sm-10 col-xs-12"},l.a.createElement("h1",{className:"slim"},"Create new simulation"),l.a.createElement("form",{id:"myForm"},this.props.model.map(function(t){return l.a.createElement("div",{className:"input-group"},l.a.createElement("span",{className:"input-group-addon",style:{minWidth:"150px"}},t.label),l.a.createElement("input",{type:"text",className:"form-control",onChange:function(t){e.onChange(t)},name:t.name,placeholder:t.plc}))}),l.a.createElement("br",null),l.a.createElement("br",null),this.props.login?l.a.createElement("a",{className:"btn btn-primary btn-block",onClick:function(){e.submit()}},"Create"):l.a.createElement("a",{className:"btn btn-primary btn-block",disabled:!0},"Create")),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).delete=function(e){console.log(e),h.a.delete("api/model",{data:{model_id:e}}).then(function(e){return a.props.fetmodels()})},a.models=function(){return a.props.models.length>0?a.props.models.map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"well"},l.a.createElement("h1",null,"Model ",e.id),l.a.createElement("p",null,a.props.model.map(function(t){return l.a.createElement("span",null,t.label,": ",e[t.name]," ",t.unit," ",l.a.createElement("br",null))})),l.a.createElement("a",{className:"btn btn-info",style:{minWidth:"100px"},target:"_blank",href:"demo.html?id=".concat(e.id)},"Start"),l.a.createElement("a",{className:"btn btn-danger",style:{minWidth:"100px",float:"right"},onClick:function(){a.delete(e.id)}},"Delete")))}):null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-7 col-sm-10 col-xs-12"},this.props.login?l.a.createElement("h1",{className:"slim"},"Your models"):l.a.createElement("h1",{className:"slim"},"Login ",l.a.createElement(d.b,{style:{textDecoration:"none"},to:"/login"},"here")," to create your own models"),this.models())}}]),t}(n.Component),w=function e(t,a,n,l){Object(c.a)(this,e),this.label=t,this.name=a,this.val=n,this.unit=l,this.plc="".concat(n," ").concat(l)},O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={model:[new w("Gravity constant","g",9.8,"(m/s^2)"),new w("Viscosity constant","n",.08,"(kg/m s)"),new w("Density","d",1e3,"(kg/m^3)"),new w("Width of sink","x",.3,"(m)"),new w("Length of sink","z",.1,"(m)"),new w("Height of sink","y",.1,"(m)"),new w("Number of divisions (x axis)","Nx",100,""),new w("Number of divisions (z axis)","Nz",25,""),new w("Number of divisions (y axis)","Ny",25,"")],models:[]},a.fetmodels=function(){h.a.get("api/model").then(function(e){console.log("axios res"),a.setState({models:e.data}),localStorage.setItem("models2D",JSON.stringify(e.data))})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetmodels()}},{key:"render",value:function(){return console.log("state",this.state),l.a.createElement("div",{className:"container-fluid"},l.a.createElement(b,null),l.a.createElement("div",{className:"space-around"},l.a.createElement(y,{login:this.props.login,model:this.state.model,fetmodels:this.fetmodels}),l.a.createElement(N,{login:this.props.login,model:this.state.model,fetmodels:this.fetmodels,models:this.state.models})),l.a.createElement(E,null))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pwd:"",error:null},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.submit=function(){h.a.post("/api/login",{email:a.state.email,pwd:a.state.pwd},{withCredentials:!0}).then(function(e){e.data.success?window.location="/":a.setState({error:e.data.error})})},a.error=function(){if(a.state.error)return l.a.createElement("div",{className:"alert alert-danger"},a.state.error)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid"},l.a.createElement(b,null),l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"scol"},l.a.createElement("h2",{className:"slim"},"Login ",l.a.createElement("small",{className:"slim"},"or signup ",l.a.createElement(d.b,{to:"/signup",style:{textDecoration:"none"}},"here"))),this.error(),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{name:"email",type:"text",className:"form-control",onChange:function(t){e.onChange(t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{name:"pwd",type:"password",className:"form-control",onChange:function(t){e.onChange(t)}})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(){return e.submit()}},"Login"))),l.a.createElement(E,null))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",name:"",pwd:"",error:null},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.submit=function(){h.a.post("/api/user",{email:a.state.email,name:a.state.name,pwd:a.state.pwd},{withCredentials:!0}).then(function(e){e.data.success?window.location="/":a.setState({error:e.data.error})})},a.error=function(){if(a.state.error)return l.a.createElement("div",{className:"alert alert-danger"},a.state.error)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid"},l.a.createElement(b,null),l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"scol"},l.a.createElement("h2",{className:"slim"},"Signup"),this.error(),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{name:"email",type:"text",className:"form-control",onChange:function(t){e.onChange(t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{name:"name",type:"text",className:"form-control",onChange:function(t){e.onChange(t)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{name:"pwd",type:"password",className:"form-control",onChange:function(t){e.onChange(t)}})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(){return e.submit()}},"Signup"))),l.a.createElement(E,null))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={login:null,user:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/api/user").then(function(t){t.data.success?e.setState({login:!0,user:t.data.user}):e.setState({login:!1})})}},{key:"render",value:function(){var e=this;return null===this.state.login?"Loading ...":l.a.createElement(d.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",render:function(){return l.a.createElement(O,{login:e.state.login})}}),l.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(j,null)}}),l.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(C,null)}})))}}]),t}(n.Component);o.a.render(l.a.createElement(k,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4dce50fb.chunk.js.map